(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-623030ce"],{1148:function(t,e,i){"use strict";var r=i("a691"),n=i("1d80");t.exports=function(t){var e=String(n(this)),i="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},"2d82":function(t,e,i){"use strict";i("5244")},"408a":function(t,e,i){var r=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},5244:function(t,e,i){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var r=i("1d80"),n=i("5899"),o="["+n+"]",a=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),s=function(t){return function(e){var i=String(r(e));return 1&t&&(i=i.replace(a,"")),2&t&&(i=i.replace(c,"")),i}};t.exports={start:s(1),end:s(2),trim:s(3)}},"6d30":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inventory-layout preview-layout"},[i("img",{staticStyle:{display:"none"},attrs:{src:t.testImage}}),i("layout-top",{attrs:{name:"报价详情",baojiaheader:"qingdan"}},[i("a-button",{staticStyle:{"font-size":"0.12rem",right:"0rem!important"},attrs:{type:"primary"},on:{click:t.download}},[t._v("保存报价图")])],1),i("div",{attrs:{id:"capture"}},[i("div",{staticClass:"inventory-content"},[i("div",{staticClass:"add-table"},[i("div",{staticClass:"input-container"},[i("a-icon",{style:{fontSize:"22px","margin-right":"10px"},attrs:{type:"calendar",theme:"twoTone","two-tone-color":"#1890ff"}}),i("div",{staticStyle:{"margin-right":"40px","font-weight":"bold","font-size":"0.12rem!important"}},[t._v(" 客户资料卡 ")]),i("div",{staticStyle:{"margin-right":"2px","font-weight":"bold","font-size":"0.12rem!important"}},[t._v(" 姓名： ")]),i("div",{staticStyle:{"margin-right":"40px","font-size":".12rem!important"}},[t._v(" "+t._s(t.detail.customer_name)+" ")]),i("div",{staticStyle:{"margin-left":"40px","font-weight":"bold","font-size":"0.12rem!important"}},[t._v(" 电话： ")]),i("div",{staticStyle:{"margin-right":"2px","font-size":"0.12rem!important"}},[t._v(" "+t._s(t.detail.customer_mobile)+" ")]),i("div",{staticStyle:{position:"absolute",float:"right",right:"0.2rem"}},[i("div",{staticStyle:{"margin-right":"40px","font-weight":"bold","font-size":".13rem",color:"#ff4d4f"}},[t._v(" 整单合计：¥"+t._s(t.getTotal||t.detail.total_price)+" ")])])],1)]),i("a-table",{attrs:{columns:t.columns,"data-source":t.detail.product_list,pagination:!1,bordered:""},scopedSlots:t._u([{key:"image",fn:function(e,r){return i("div",{},[i("div",{staticStyle:{width:"1rem",height:"100%","min-height":".6rem",margin:"0 auto"},style:{background:"url("+r.image+") center center","background-size":"窗帘"===r.parent_category_name?"":"100%"}}),i("div",[t._v(t._s(r.name))])])}},{key:"param",fn:function(e,r){return i("div",{},[i("div",[t._v(t._s(r.parent_category_name))]),i("div",[t._v(t._s(r.category_name))]),i("div",[t._v(t._s(r.product_attribute))])])}},{key:"price",fn:function(e,r){return i("div",{},[i("div",[t._v(t._s(r.price)+" "+t._s("元/"+r.unit))])])}},{key:"num",fn:function(e,r){return[i("div",[t._v(t._s(r.num))])]}},{key:"total",fn:function(e,r){return i("div",{},[i("div",{staticStyle:{"font-size":"0.15rem","font-weight":"bold",color:"#ff4d4f"}},[t._v(" ¥"+t._s(t.rowTotal(r))+" ")])])}}])})],1)])],1)},n=[],o=(i("159b"),i("a9e3"),i("b680"),i("e73e")),a=i("c0e9"),c=i.n(a),s=[{title:"产品图",dataIndex:"image",width:"25%",align:"center",scopedSlots:{customRender:"image"}},{title:"参数",dataIndex:"",align:"center",scopedSlots:{customRender:"param"}},{title:"单价",dataIndex:"",align:"center",scopedSlots:{customRender:"price"}},{title:"数量",dataIndex:"num",align:"center",scopedSlots:{customRender:"num"}},{title:"单品合计",dataIndex:"total",align:"center",scopedSlots:{customRender:"total"}}],u={components:{layoutTop:o["a"]},data:function(){return{id:"",columns:s,testImage:"",detail:{customer_name:"",customer_mobile:"",offer_image:"",product_list:[],total_price:""}}},mounted:function(){var t=this;this.id=this.$route.query.id,this.$service.user_offerDetail({id:this.id}).then((function(e){console.log(e),t.detail=e}))},computed:{getTotal:function(){var t=this,e=0;return this.detail.product_list.forEach((function(i){e+=Number(t.rowTotal(i))})),e*=(this.detail.totalDiscount||100)/100,e.toFixed(2)}},methods:{rowTotal:function(t){var e=t.price*t.num*t.discount/100;return e>0?e.toFixed(2):0},download:function(){var t=this,e=this;c()(document.querySelector("#capture"),{useCORS:!0}).then((function(i){var r=i.toDataURL("image/jpeg",.8);t.testImage=r,jsBridge.ready((function(){jsBridge.saveImageToAlbum(r,(function(t){if(t){var i=navigator.userAgent,r=i.indexOf("Android")>-1||i.indexOf("Linux")>-1;r&&e.$message.success("保存成功")}else alert("保存失败：下载失败或没有相册使用权限")}))}))})),setTimeout((function(){t.$router.push("/priceRecord")}),1500)}}},l=u,d=(i("2d82"),i("2877")),f=Object(d["a"])(l,r,n,!1,null,"49b55459",null);e["default"]=f.exports},7156:function(t,e,i){var r=i("861d"),n=i("d2bb");t.exports=function(t,e,i){var o,a;return n&&"function"==typeof(o=e.constructor)&&o!==i&&r(a=o.prototype)&&a!==i.prototype&&n(t,a),t}},"80f9":function(t,e,i){"use strict";i("eec7")},a9e3:function(t,e,i){"use strict";var r=i("83ab"),n=i("da84"),o=i("94ca"),a=i("6eeb"),c=i("5135"),s=i("c6b6"),u=i("7156"),l=i("c04e"),d=i("d039"),f=i("7c73"),m=i("241c").f,p=i("06cf").f,g=i("9bf2").f,h=i("58a8").trim,v="Number",_=n[v],y=_.prototype,b=s(f(y))==v,x=function(t){var e,i,r,n,o,a,c,s,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+u}for(o=u.slice(2),a=o.length,c=0;c<a;c++)if(s=o.charCodeAt(c),s<48||s>n)return NaN;return parseInt(o,r)}return+u};if(o(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var S,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(b?d((function(){y.valueOf.call(i)})):s(i)!=v)?u(new _(x(e)),i,w):x(e)},I=r?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;I.length>N;N++)c(_,S=I[N])&&!c(w,S)&&g(w,S,p(_,S));w.prototype=y,y.constructor=w,a(n,v,w)}},b680:function(t,e,i){"use strict";var r=i("23e7"),n=i("a691"),o=i("408a"),a=i("1148"),c=i("d039"),s=1..toFixed,u=Math.floor,l=function(t,e,i){return 0===e?i:e%2===1?l(t,e-1,i*t):l(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=function(t,e,i){var r=-1,n=i;while(++r<6)n+=e*t[r],t[r]=n%1e7,n=u(n/1e7)},m=function(t,e){var i=6,r=0;while(--i>=0)r+=t[i],t[i]=u(r/e),r=r%e*1e7},p=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var r=String(t[e]);i=""===i?r:i+a.call("0",7-r.length)+r}return i},g=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));r({target:"Number",proto:!0,forced:g},{toFixed:function(t){var e,i,r,c,s=o(this),u=n(t),g=[0,0,0,0,0,0],h="",v="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(h="-",s=-s),s>1e-21)if(e=d(s*l(2,69,1))-69,i=e<0?s*l(2,-e,1):s/l(2,e,1),i*=4503599627370496,e=52-e,e>0){f(g,0,i),r=u;while(r>=7)f(g,1e7,0),r-=7;f(g,l(10,r,1),0),r=e-1;while(r>=23)m(g,1<<23),r-=23;m(g,1<<r),f(g,1,1),m(g,2),v=p(g)}else f(g,0,i),f(g,1<<-e,0),v=p(g)+a.call("0",u);return u>0?(c=v.length,v=h+(c<=u?"0."+a.call("0",u-c)+v:v.slice(0,c-u)+"."+v.slice(c-u))):v=h+v,v}})},e73e:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-layout-top"},[i("h4",[t._v(t._s(t.name))]),i("div",{staticClass:"back-btn",on:{click:t.goBack}},[i("a-icon",{staticStyle:{"vertical-align":"middle"},style:{fontSize:"0.23rem"},attrs:{type:"left-circle",theme:"filled"}})],1),i("div",{staticClass:"my-layout-top-right flex-box"},[i("div",{staticClass:"my-layout-top-op"},[t._t("default")],2)])])},n=[],o=(i("ac1f"),i("5319"),{props:{name:{type:String,default:""},backTo:String,baojiaheader:""},data:function(){return{}},methods:{goBack:function(){this.backTo?this.$router.replace(this.backTo):"qingdan"==this.baojiaheader?this.$router.push("/priceRecord"):this.$router.push("home/userinfo")}}}),a=o,c=(i("80f9"),i("2877")),s=Object(c["a"])(a,r,n,!1,null,null,null);e["a"]=s.exports},eec7:function(t,e,i){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a51551e"],{"060c":function(e,t,n){},"0bfa":function(e,t,n){"use strict";n("060c")},"1b09":function(e,t,n){"use strict";n("6509")},"415a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"colors-test",style:{minHeight:e.screenHeight+"px",background:"#F0F2F5"}},[n("div",{staticClass:"design-layout-top"},[n("span",{staticStyle:{"font-size":".15rem","font-weight":"bold"}},[e._v("第"+e._s(1===e.current?"一":"二")+"步:"+e._s(e.list[e.current-1].title))]),n("div",{staticStyle:{position:"absolute",float:"right",top:"0",right:"0.2rem"}},[1===e.current&&e.selected.length>0?n("a-button",{staticStyle:{"margin-left":".12rem","font-size":"0.12rem","font-weight":"bold",width:"0.81rem",height:"0.28rem","vertical-align":"middle"},on:{click:e.resetselectedColor}},[e._v(" 撤销选择")]):e._e(),2===e.current?n("a-button",{staticStyle:{"margin-left":".12rem","font-size":"0.12rem","font-weight":"bold",width:"0.81rem",height:"0.28rem","vertical-align":"middle"},attrs:{type:"danger"},on:{click:e.delselectedColor}},[e._v(" 重测")]):e._e(),e.current>1?n("a-button",{staticStyle:{"margin-left":".12rem","font-size":"0.12rem","font-weight":"bold",width:"0.81rem",height:"0.28rem","vertical-align":"middle"},on:{click:e.pre}},[e._v(" 上一题")]):e._e(),n("a-button",{staticStyle:{"margin-left":".12rem","font-size":"0.12rem","font-weight":"bold",width:"0.81rem",height:"0.28rem","vertical-align":"middle"},attrs:{type:"primary"},on:{click:e.next}},[e._v(" "+e._s(e.current===e.list.length&&e.selected.length===e.max?"提交":e.selected.length===e.max?"下一题":"已选"+e.selected.length+"/"+e.max)+" ")])],1),n("l-header")],1),n("div",{staticClass:"options-data"},e._l(e.colors,(function(t,i){return n("span",{key:i,staticClass:"options-txt",class:{selected:e.selected.includes(t.id),disabled:e.isDisabled(t),shadow:121==t.id},style:{"background-color":t.color_number},attrs:{id:"kkk"},on:{click:function(n){return e.selectedColor(t)}}},[e.selected.includes(t.id)?[e._v(" "+e._s(t.selectedIndex)+" ")]:e._e()],2)})),0)])},r=[],c=n("1da1"),s=(n("caad"),n("2532"),n("a15b"),n("c740"),n("a434"),n("159b"),n("96cf"),n("9340")),o={inject:["reload"],data:function(){return{screenHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,colors:[],current:1,finished:!1,list:[{current:1,title:"请选择你最喜欢的10个颜色?",max:10,selected:[]},{current:2,title:"选择讨厌的5个颜色？",max:5,selected:[]}]}},components:{lHeader:s["a"]},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$service.getColorList();case 2:n=t.sent,e.colors=n;case 4:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(e,t,n){0!=this.list[0].selected?this.finished?n():this.$confirm({title:"确定退出吗？",content:"退出后当前已选不保留",okText:"确认",cancelText:"取消",centered:!0,onOk:function(){n()},onCancel:function(){}}):n()},computed:{selected:function(){return this.list[this.current-1].selected},max:function(){return this.list[this.current-1].max}},methods:{isDisabled:function(e){return 2===this.current&&this.list[0].selected.includes(e.id)},pre:function(){this.current=Math.max(1,this.current-1)},next:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=e.current){t.next=6;break}if(e.selected.length===e.max){t.next=4;break}return e.$message.info("请选择你最喜欢的10个颜色"),t.abrupt("return");case 4:t.next=15;break;case 6:if(2!=e.current){t.next=15;break}if(e.selected.length===e.max){t.next=10;break}return e.$message.info("请选择你讨厌的的5个颜色"),t.abrupt("return");case 10:return t.next=12,e.$service.submitColorTest({right_color_block_id:e.list[0].selected.join(","),back_color_block_id:e.list[1].selected.join(",")});case 12:return n=t.sent,n.id&&(e.finished=!0,e.$router.push("/colorresult?id="+n.id)),t.abrupt("return");case 15:e.current=Math.min(e.list.length,e.current+1);case 16:case"end":return t.stop()}}),t)})))()},resetselectedColor:function(e){var t=this.selected.findIndex((function(t){return e.id==t}));this.selected.splice(t,1)},delselectedColor:function(){this.selected.length=0,this.reload()},selectedColor:function(e){var t=this,n=this.selected;if(2!==this.current||!this.list[0].selected.includes(e.id)){if(n.length===this.max)return 10===this.selected.length&&this.$message.info("您已经选择"+this.max+"个喜欢的颜色了，请进入下一题"),void(5===this.max&&this.$message.info("您已经选择"+this.max+"个了，请点击提交"));if(n.length<this.max)if(n.includes(e.id)){var i=n.findIndex((function(t){return e.id==t}));n.splice(i,1)}else n.push(e.id);this.colors.forEach((function(e){t.selected.forEach((function(n,i){e.id==n&&t.$set(e,"selectedIndex",i+1)}))}))}}}},l=o,a=(n("0bfa"),n("ac15"),n("2877")),d=Object(a["a"])(l,i,r,!1,null,"3005d2e7",null);t["default"]=d.exports},6509:function(e,t,n){},9340:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"back-btn",on:{click:e.goBack}},[n("i",{staticClass:"iconfont icon-left-circle-fill"})])},r=[],c=(n("ac1f"),n("5319"),{props:{backType:""},inject:["reload"],data:function(){return{}},methods:{goBack:function(){"mydesign"===this.backType?this.$router.replace("/my-design"):"back"===this.backType?(this.$router.back(),this.reload()):(this.$router.back(),console.log(this.backType,"222222lallala"))}}}),s=c,o=(n("1b09"),n("2877")),l=Object(o["a"])(s,i,r,!1,null,"c4115dbc",null);t["a"]=l.exports},9485:function(e,t,n){},a15b:function(e,t,n){"use strict";var i=n("23e7"),r=n("44ad"),c=n("fc6a"),s=n("a640"),o=[].join,l=r!=Object,a=s("join",",");i({target:"Array",proto:!0,forced:l||!a},{join:function(e){return o.call(c(this),void 0===e?",":e)}})},a434:function(e,t,n){"use strict";var i=n("23e7"),r=n("23cb"),c=n("a691"),s=n("50c4"),o=n("7b0b"),l=n("65f0"),a=n("8418"),d=n("1dde"),u=d("splice"),h=Math.max,f=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,i,d,u,b,p,x=o(this),v=s(x.length),k=r(e,v),w=arguments.length;if(0===w?n=i=0:1===w?(n=0,i=v-k):(n=w-2,i=f(h(c(t),0),v-k)),v+n-i>m)throw TypeError(g);for(d=l(x,i),u=0;u<i;u++)b=k+u,b in x&&a(d,u,x[b]);if(d.length=i,n<i){for(u=k;u<v-i;u++)b=u+i,p=u+n,b in x?x[p]=x[b]:delete x[p];for(u=v;u>v-i+n;u--)delete x[u-1]}else if(n>i)for(u=v-i;u>k;u--)b=u+i-1,p=u+n-1,b in x?x[p]=x[b]:delete x[p];for(u=0;u<n;u++)x[u+k]=arguments[u+2];return x.length=v-i+n,d}})},ac15:function(e,t,n){"use strict";n("9485")},c740:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,c=n("44d2"),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c(s)}}]);